{"ast":null,"code":"var _jsxFileName = \"/Users/luisrubio/code/archive/automate-kaizen/src/components/alarm/Alarm.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport bellAudio from './sounds/bell.mp3';\nimport busAudio from './sounds/bus.mp3';\nimport joseFeedAudio from './sounds/jose_feed.mp3';\nimport juanFeedAudio from './sounds/juan_feed.mp3';\nimport joseWalkAudio from './sounds/jose_walk.mp3';\nimport juanWalkAudio from './sounds/juan_walk.mp3';\nimport joseBinAudio from './sounds/jose_bin.mp3';\nimport juanBinAudio from './sounds/juan_bin.mp3';\nimport alfredoBinAudio from './sounds/alfredo_bin.mp3';\nimport jackelineBinAudio from './sounds/jackeline_bin.mp3';\nimport audio1 from './sounds/1.mp3';\nimport audio2 from './sounds/2.mp3';\nimport audio3 from './sounds/3.mp3';\nimport audio4 from './sounds/4.mp3';\nimport audio5 from './sounds/5.mp3';\nimport audio6 from './sounds/6.mp3';\nimport audio7 from './sounds/7.mp3';\nimport audio8 from './sounds/8.mp3';\nimport audio9 from './sounds/9.mp3';\nimport audio10 from './sounds/10.mp3';\nimport audio11 from './sounds/11.mp3';\nimport audio12 from './sounds/12.mp3';\nimport japancakes from './sounds/japancakes.mp3';\nimport overdueAndrea from './sounds/overdue_andrea.mp3';\nimport overdueAlfredo from './sounds/overdue_alfredo_2.mp3';\nimport overdueJose from './sounds/overdue_jose.mp3';\nimport overdueJuan from './sounds/overdue_juan.mp3';\nimport overdueJackeline from './sounds/overdue_jackeline.mp3';\nimport bagAudio from './sounds/trashbags.mp3';\n\nclass Alarm extends Component {\n  constructor() {\n    super();\n\n    this.fetch = () => {\n      const url = 'https://safe-anchorage-33083.herokuapp.com'; // get users stats\n\n      axios.get(url + '/api/tokens/ssj').then(res => {\n        this.setState({\n          users: res.data,\n          loading: false\n        });\n      }); // get general info / debug info\n\n      axios.get(url + '/api/tokens/info').then(res => {\n        this.setState({\n          info: res.data\n        });\n      }); // get bus info\n\n      axios.get(url + '/api/tokens/cat/7/true').then(res => {\n        this.setState({\n          catBus: res.data\n        });\n      }); // get dog feed info\n\n      axios.get(url + '/api/tokens/cat/4/true').then(res => {\n        this.setState({\n          catFeed: res.data\n        });\n      }); // get dog walk info\n\n      axios.get(url + '/api/tokens/cat/5/true').then(res => {\n        this.setState({\n          catWalk: res.data\n        });\n      }); // get trash info\n\n      axios.get(url + '/api/tokens/cat/6/true').then(res => {\n        this.setState({\n          catTrash: res.data\n        });\n      }); // get morning info\n\n      axios.get(url + '/api/tokens/cat/1/true').then(res => {\n        this.setState({\n          catMorning: res.data\n        });\n      }); // get chores info\n\n      axios.get(url + '/api/tokens/cat/0/true').then(res => {\n        this.setState({\n          catChores: res.data\n        });\n      }); // get chores info\n\n      axios.get(url + '/api/tokens/cat/2/true').then(res => {\n        this.setState({\n          catBefore: res.data\n        });\n      }); // get chores info\n\n      axios.get(url + '/api/tokens/cat/9/true').then(res => {\n        this.setState({\n          catReading: res.data\n        });\n      }); // get shower info\n\n      axios.get(url + '/api/tokens/cat/3/true').then(res => {\n        this.setState({\n          catShower: res.data\n        });\n      }); // get bags info\n\n      axios.get(url + '/api/tokens/cat/10/true').then(res => {\n        this.setState({\n          catBag: res.data\n        });\n      });\n    };\n\n    this.alarm = () => {\n      this.fetch(); // Clock code\n\n      const addZero = i => {\n        if (i < 10) {\n          i = '0' + i;\n        }\n\n        return i;\n      };\n\n      const clockCode = addZero(this.state.time.getHours()) + '' + addZero(this.state.time.getMinutes()) + '' + addZero(this.state.time.getSeconds());\n      this.setState({\n        time: new Date(),\n        clockCode\n      }); // Sound control\n\n      this.soundControl(parseInt(this.state.clockCode));\n    };\n\n    this.soundControl = n => {\n      let buffer = false;\n\n      if (18000 < Date.now() - this.state.buffer) {\n        buffer = true;\n      } // console.log(this.state.catWalk[0].timeSent);\n\n\n      const color = this.state.info.colorID; // 0-Alfredo 1-Jackeline 2-Jose 3-Juan\n      // 0 Juan - Feed ___ 1 Jose - Feed\n\n      const doggyPEEP = [0, 1, 0, 1];\n      const doggyID = doggyPEEP[color];\n      console.log(doggyID); // 6:50 AM -- class begins\n\n      if (n === 75100) {\n        const audio = new Audio(japancakes);\n        audio.play();\n        console.log('playing sound');\n        this.setState({\n          buffer: Date.now()\n        });\n        console.log('1 playing');\n      } // 7:50 AM -- morning bell\n\n\n      if (n >= 75000 && n <= 75030 && !this.state.alarmBells) {\n        const audio = new Audio(bellAudio);\n        audio.play();\n        console.log('playing sound');\n        this.setState({\n          alarmBells: true\n        });\n        this.setState({\n          buffer: Date.now()\n        });\n        console.log('2 playing');\n      } //  1 o'clock\n      else if (n === 130000) {\n          const audio = new Audio(audio1);\n          audio.play();\n          this.setState({\n            buffer: Date.now()\n          });\n        } // 2 o'clock\n        else if (n === 140000) {\n            const audio = new Audio(audio2);\n            audio.play();\n            this.setState({\n              buffer: Date.now()\n            });\n          } // 3 o'clock\n          else if (n === 150000) {\n              const audio = new Audio(audio3);\n              audio.play();\n              this.setState({\n                buffer: Date.now()\n              });\n            } // 4 o'clock\n            else if (n === 160000) {\n                const audio = new Audio(audio4);\n                audio.play();\n                this.setState({\n                  buffer: Date.now()\n                });\n              } // 5 o'clock\n              else if (n === 170000) {\n                  const audio = new Audio(audio5);\n                  audio.play();\n                  this.setState({\n                    buffer: Date.now()\n                  });\n                } // 6 o'clock\n                else if (n === 180000) {\n                    const audio = new Audio(audio6);\n                    audio.play();\n                    this.setState({\n                      buffer: Date.now()\n                    });\n                  } // 7 o'clock\n                  else if (n === 190000) {\n                      const audio = new Audio(audio7);\n                      audio.play();\n                      this.setState({\n                        buffer: Date.now()\n                      });\n                    } // 8 o'clock\n                    else if (n === 80000) {\n                        const audio = new Audio(audio8);\n                        audio.play();\n                        this.setState({\n                          buffer: Date.now()\n                        });\n                      } // 9 o'clock\n                      else if (n === 90000) {\n                          const audio = new Audio(audio9);\n                          audio.play();\n                          this.setState({\n                            buffer: Date.now()\n                          });\n                        } // 10 o'clock\n                        else if (n === 100000) {\n                            const audio = new Audio(audio10);\n                            audio.play();\n                            this.setState({\n                              buffer: Date.now()\n                            });\n                          } // 12 o'clock\n                          else if (n === 120000) {\n                              const audio = new Audio(audio12);\n                              audio.play();\n                              this.setState({\n                                buffer: Date.now()\n                              });\n                            } // 11:00AM -- school bell\n                            else if (n >= 110000 && n <= 110030 && !this.state.alarmBus1) {\n                                const audio = new Audio(bellAudio);\n                                audio.play();\n                                console.log('playing sound');\n                                this.setState({\n                                  alarmBus1: true\n                                });\n                              } // REMINDER: bus\n                              else if (this.state.catBus.length > 0 && buffer) {\n                                  const audio = new Audio(busAudio);\n                                  audio.play();\n                                  console.log('playing sound');\n                                  this.setState({\n                                    buffer: Date.now()\n                                  });\n                                  console.log('3 playing');\n                                } // REMINDER: trash curb\n                                else if (this.state.catTrash.length > 0 && buffer) {\n                                    console.log('4 playing');\n\n                                    if (this.state.catTrash[0].diff > 900000) {\n                                      let audio;\n                                      const user = this.state.catTrash[0].userID;\n\n                                      if (user === 1) {\n                                        audio = new Audio(jackelineBinAudio);\n                                      } else if (user === 2) {\n                                        audio = new Audio(alfredoBinAudio);\n                                      } else if (user === 3) {\n                                        audio = new Audio(joseBinAudio);\n                                      } else if (user === 4) {\n                                        audio = new Audio(juanBinAudio);\n                                      }\n\n                                      audio.play();\n                                      console.log('playing sound');\n                                      this.setState({\n                                        buffer: Date.now()\n                                      });\n                                    }\n                                  } // REMINDER: feed\n                                  else if (this.state.catFeed.length > 0 && buffer) {\n                                      console.log('5 playing');\n\n                                      if (this.state.catFeed[0].diff > 900000) {\n                                        let audio;\n                                        const user = this.state.catFeed[0].userID;\n\n                                        if (user === 3) {\n                                          audio = new Audio(joseFeedAudio);\n                                        } else if (user === 4) {\n                                          audio = new Audio(juanFeedAudio);\n                                        }\n\n                                        audio.play();\n                                        console.log('playing sound');\n                                        this.setState({\n                                          buffer: Date.now()\n                                        });\n                                      }\n                                    } // REMINDER: walk\n                                    else if (this.state.catWalk.length > 0 && buffer) {\n                                        console.log('6 playing');\n\n                                        if (this.state.catWalk[0].diff > 900000) {\n                                          let audio;\n                                          const user = this.state.catWalk[0].userID;\n\n                                          if (user === 3) {\n                                            audio = new Audio(joseWalkAudio);\n                                          } else if (user === 4) {\n                                            audio = new Audio(juanWalkAudio);\n                                          }\n\n                                          audio.play();\n                                          console.log('playing sound');\n                                          this.setState({\n                                            buffer: Date.now()\n                                          });\n                                        }\n                                      } // REMINDER: trashbag\n                                      else if (this.state.catBag.length > 0 && buffer) {\n                                          console.log('7 playing');\n\n                                          if (this.state.catBag[0].diff > 900000) {\n                                            let audio = new Audio(bagAudio);\n                                            audio.play();\n                                            console.log('playing sound');\n                                            this.setState({\n                                              buffer: Date.now()\n                                            });\n                                          }\n                                        }\n                                        /*\n                                        ==========================================================\n                                        ============= NUDGER START ===============================\n                                        ==========================================================\n                                        */\n                                        // NUDGE chores\n                                        else if (this.state.catChores.length > 0 && buffer) {\n                                            console.log('is it nudging?');\n\n                                            if (this.state.catChores[0].diff > 1800000) {\n                                              const sounds = [overdueAndrea, overdueJackeline, overdueAlfredo, overdueJose, overdueJuan];\n                                              const audio = new Audio(sounds[this.state.catChores[0].userID]);\n                                              audio.play();\n\n                                              if (this.state.catChores[0].userID === 2) {\n                                                this.setState({\n                                                  buffer: Date.now() - 5000\n                                                });\n                                              } else {\n                                                this.setState({\n                                                  buffer: Date.now()\n                                                });\n                                              }\n                                            }\n                                          } // NUDGE morning\n                                          else if (this.state.catMorning.length > 0 && buffer) {\n                                              console.log('8 playing');\n\n                                              if (this.state.catMorning[0].diff > 1800000) {\n                                                const sounds = [overdueAndrea, overdueJackeline, overdueAlfredo, overdueJose, overdueJuan];\n                                                const audio = new Audio(sounds[this.state.catMorning[0].userID]);\n                                                audio.play();\n                                                this.setState({\n                                                  buffer: Date.now()\n                                                });\n                                              }\n                                            } // NUDGE before\n                                            else if (this.state.catBefore.length > 0 && buffer) {\n                                                console.log('9 playing' + this.state.catBefore[0].diff);\n\n                                                if (this.state.catBefore[0].diff > 180000) {\n                                                  const sounds = [overdueAndrea, overdueJackeline, overdueAlfredo, overdueJose, overdueJuan];\n                                                  const audio = new Audio(sounds[this.state.catBefore[0].userID]);\n                                                  audio.play();\n                                                  this.setState({\n                                                    buffer: Date.now()\n                                                  });\n                                                  console.log('actually playing');\n                                                }\n                                              } // NUDGE reading\n                                              else if (this.state.catReading.length > 0 && buffer) {\n                                                  console.log('10 playing');\n\n                                                  if (this.state.catReading[0].diff > 1800000) {\n                                                    const sounds = [overdueAndrea, overdueJackeline, overdueAlfredo, overdueJose, overdueJuan];\n                                                    const audio = new Audio(sounds[this.state.catReading[0].userID]);\n                                                    audio.play();\n                                                    this.setState({\n                                                      buffer: Date.now()\n                                                    });\n                                                  }\n                                                } // NUDGE shower\n                                                else if (this.state.catShower.length > 0 && buffer) {\n                                                    console.log('11 playing');\n\n                                                    if (this.state.catShower[0].diff > 1800000) {\n                                                      const sounds = [overdueAndrea, overdueJackeline, overdueAlfredo, overdueJose, overdueJuan];\n                                                      const audio = new Audio(sounds[this.state.catShower[0].userID]);\n                                                      audio.play();\n                                                      this.setState({\n                                                        buffer: Date.now()\n                                                      });\n                                                    } else {\n                                                      console.log(this.state.catShower[0].diff + ' ' + this.state.catShower[0].userID);\n                                                    }\n                                                  }\n      /*\n      ==========================================================\n      ============= NUDGER END =================================\n      ==========================================================\n      */\n\n    };\n\n    this.taskMaster = n => {\n      console.log('taskmaster');\n    };\n\n    this.state = {\n      info: {},\n      users: [],\n      time: new Date(),\n      clockCode: 0,\n      alarmBells: false,\n      alarmBus1: false,\n      catFeed: [],\n      catWalk: [],\n      catBus: [],\n      catTrash: [],\n      catMorning: [],\n      catChores: [],\n      catBefore: [],\n      catReading: [],\n      catShower: [],\n      catBag: [],\n      buffer: 0\n    };\n  }\n\n  componentDidMount() {\n    this.fetch();\n    setInterval(() => {\n      this.alarm();\n      this.taskMaster();\n    }, 1000);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Alarm;","map":{"version":3,"sources":["/Users/luisrubio/code/archive/automate-kaizen/src/components/alarm/Alarm.js"],"names":["React","Component","axios","bellAudio","busAudio","joseFeedAudio","juanFeedAudio","joseWalkAudio","juanWalkAudio","joseBinAudio","juanBinAudio","alfredoBinAudio","jackelineBinAudio","audio1","audio2","audio3","audio4","audio5","audio6","audio7","audio8","audio9","audio10","audio11","audio12","japancakes","overdueAndrea","overdueAlfredo","overdueJose","overdueJuan","overdueJackeline","bagAudio","Alarm","constructor","fetch","url","get","then","res","setState","users","data","loading","info","catBus","catFeed","catWalk","catTrash","catMorning","catChores","catBefore","catReading","catShower","catBag","alarm","addZero","i","clockCode","state","time","getHours","getMinutes","getSeconds","Date","soundControl","parseInt","n","buffer","now","color","colorID","doggyPEEP","doggyID","console","log","audio","Audio","play","alarmBells","alarmBus1","length","diff","user","userID","sounds","taskMaster","componentDidMount","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,cAAP,MAA2B,gCAA3B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,QAAP,MAAqB,wBAArB;;AACA,MAAMC,KAAN,SAAoB/B,SAApB,CAA8B;AAC5BgC,EAAAA,WAAW,GAAG;AACZ;;AADY,SA+BdC,KA/Bc,GA+BN,MAAM;AACZ,YAAMC,GAAG,GAAG,4CAAZ,CADY,CAGZ;;AACAjC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,iBAAhB,EAAmCE,IAAnC,CAAwCC,GAAG,IAAI;AAC7C,aAAKC,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAEF,GAAG,CAACG,IAAb;AAAmBC,UAAAA,OAAO,EAAE;AAA5B,SAAd;AACD,OAFD,EAJY,CAQZ;;AACAxC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,kBAAhB,EAAoCE,IAApC,CAAyCC,GAAG,IAAI;AAC9C,aAAKC,QAAL,CAAc;AAAEI,UAAAA,IAAI,EAAEL,GAAG,CAACG;AAAZ,SAAd;AACD,OAFD,EATY,CAaZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEK,UAAAA,MAAM,EAAEN,GAAG,CAACG;AAAd,SAAd;AACD,OAFD,EAdY,CAkBZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEM,UAAAA,OAAO,EAAEP,GAAG,CAACG;AAAf,SAAd;AACD,OAFD,EAnBY,CAuBZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEO,UAAAA,OAAO,EAAER,GAAG,CAACG;AAAf,SAAd;AACD,OAFD,EAxBY,CA4BZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEQ,UAAAA,QAAQ,EAAET,GAAG,CAACG;AAAhB,SAAd;AACD,OAFD,EA7BY,CAiCZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAES,UAAAA,UAAU,EAAEV,GAAG,CAACG;AAAlB,SAAd;AACD,OAFD,EAlCY,CAsCZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEU,UAAAA,SAAS,EAAEX,GAAG,CAACG;AAAjB,SAAd;AACD,OAFD,EAvCY,CA2CZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEW,UAAAA,SAAS,EAAEZ,GAAG,CAACG;AAAjB,SAAd;AACD,OAFD,EA5CY,CAgDZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEY,UAAAA,UAAU,EAAEb,GAAG,CAACG;AAAlB,SAAd;AACD,OAFD,EAjDY,CAoDZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEa,UAAAA,SAAS,EAAEd,GAAG,CAACG;AAAjB,SAAd;AACD,OAFD,EArDY,CAyDZ;;AACAvC,MAAAA,KAAK,CAACkC,GAAN,CAAUD,GAAG,GAAG,yBAAhB,EAA2CE,IAA3C,CAAgDC,GAAG,IAAI;AACrD,aAAKC,QAAL,CAAc;AAAEc,UAAAA,MAAM,EAAEf,GAAG,CAACG;AAAd,SAAd;AACD,OAFD;AAGD,KA5Fa;;AAAA,SA6Fda,KA7Fc,GA6FN,MAAM;AACZ,WAAKpB,KAAL,GADY,CAGZ;;AACA,YAAMqB,OAAO,GAAGC,CAAC,IAAI;AACnB,YAAIA,CAAC,GAAG,EAAR,EAAY;AACVA,UAAAA,CAAC,GAAG,MAAMA,CAAV;AACD;;AACD,eAAOA,CAAP;AACD,OALD;;AAMA,YAAMC,SAAS,GACbF,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,EAAD,CAAP,GACA,EADA,GAEAL,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBE,UAAhB,EAAD,CAFP,GAGA,EAHA,GAIAN,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBG,UAAhB,EAAD,CALT;AAMA,WAAKvB,QAAL,CAAc;AACZoB,QAAAA,IAAI,EAAE,IAAII,IAAJ,EADM;AAEZN,QAAAA;AAFY,OAAd,EAhBY,CAqBZ;;AACA,WAAKO,YAAL,CAAkBC,QAAQ,CAAC,KAAKP,KAAL,CAAWD,SAAZ,CAA1B;AACD,KApHa;;AAAA,SAsHdO,YAtHc,GAsHCE,CAAC,IAAI;AAClB,UAAIC,MAAM,GAAG,KAAb;;AACA,UAAI,QAAQJ,IAAI,CAACK,GAAL,KAAa,KAAKV,KAAL,CAAWS,MAApC,EAA4C;AAC1CA,QAAAA,MAAM,GAAG,IAAT;AACD,OAJiB,CAMlB;;;AAEA,YAAME,KAAK,GAAG,KAAKX,KAAL,CAAWf,IAAX,CAAgB2B,OAA9B,CARkB,CASlB;AAEA;;AACA,YAAMC,SAAS,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAlB;AACA,YAAMC,OAAO,GAAGD,SAAS,CAACF,KAAD,CAAzB;AAEAI,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAfkB,CAiBlB;;AACA,UAAIN,CAAC,KAAK,KAAV,EAAiB;AACf,cAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUnD,UAAV,CAAd;AACAkD,QAAAA,KAAK,CAACE,IAAN;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aAAKnC,QAAL,CAAc;AAAE4B,UAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,SAAd;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,OAxBiB,CA0BlB;;;AACA,UAAIR,CAAC,IAAI,KAAL,IAAcA,CAAC,IAAI,KAAnB,IAA4B,CAAC,KAAKR,KAAL,CAAWoB,UAA5C,EAAwD;AACtD,cAAMH,KAAK,GAAG,IAAIC,KAAJ,CAAUzE,SAAV,CAAd;AACAwE,QAAAA,KAAK,CAACE,IAAN;AACAJ,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aAAKnC,QAAL,CAAc;AAAEuC,UAAAA,UAAU,EAAE;AAAd,SAAd;AACA,aAAKvC,QAAL,CAAc;AAAE4B,UAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,SAAd;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,OAPD,CASA;AATA,WAUK,IAAIR,CAAC,KAAK,MAAV,EAAkB;AACrB,gBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU/D,MAAV,CAAd;AACA8D,UAAAA,KAAK,CAACE,IAAN;AACA,eAAKtC,QAAL,CAAc;AAAE4B,YAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,WAAd;AACD,SAJI,CAML;AANK,aAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,kBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU9D,MAAV,CAAd;AACA6D,YAAAA,KAAK,CAACE,IAAN;AACA,iBAAKtC,QAAL,CAAc;AAAE4B,cAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,aAAd;AACD,WAJI,CAML;AANK,eAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,oBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU7D,MAAV,CAAd;AACA4D,cAAAA,KAAK,CAACE,IAAN;AACA,mBAAKtC,QAAL,CAAc;AAAE4B,gBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,eAAd;AACD,aAJI,CAML;AANK,iBAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,sBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU5D,MAAV,CAAd;AACA2D,gBAAAA,KAAK,CAACE,IAAN;AACA,qBAAKtC,QAAL,CAAc;AAAE4B,kBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,iBAAd;AACD,eAJI,CAML;AANK,mBAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,wBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU3D,MAAV,CAAd;AACA0D,kBAAAA,KAAK,CAACE,IAAN;AACA,uBAAKtC,QAAL,CAAc;AAAE4B,oBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,mBAAd;AACD,iBAJI,CAML;AANK,qBAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,0BAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAU1D,MAAV,CAAd;AACAyD,oBAAAA,KAAK,CAACE,IAAN;AACA,yBAAKtC,QAAL,CAAc;AAAE4B,sBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,qBAAd;AACD,mBAJI,CAML;AANK,uBAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,4BAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUzD,MAAV,CAAd;AACAwD,sBAAAA,KAAK,CAACE,IAAN;AACA,2BAAKtC,QAAL,CAAc;AAAE4B,wBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,uBAAd;AACD,qBAJI,CAML;AANK,yBAOA,IAAIF,CAAC,KAAK,KAAV,EAAiB;AACpB,8BAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUxD,MAAV,CAAd;AACAuD,wBAAAA,KAAK,CAACE,IAAN;AACA,6BAAKtC,QAAL,CAAc;AAAE4B,0BAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,yBAAd;AACD,uBAJI,CAML;AANK,2BAOA,IAAIF,CAAC,KAAK,KAAV,EAAiB;AACpB,gCAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUvD,MAAV,CAAd;AACAsD,0BAAAA,KAAK,CAACE,IAAN;AACA,+BAAKtC,QAAL,CAAc;AAAE4B,4BAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,2BAAd;AACD,yBAJI,CAML;AANK,6BAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,kCAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUtD,OAAV,CAAd;AACAqD,4BAAAA,KAAK,CAACE,IAAN;AACA,iCAAKtC,QAAL,CAAc;AAAE4B,8BAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,6BAAd;AACD,2BAJI,CAML;AANK,+BAOA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACrB,oCAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUpD,OAAV,CAAd;AACAmD,8BAAAA,KAAK,CAACE,IAAN;AACA,mCAAKtC,QAAL,CAAc;AAAE4B,gCAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,+BAAd;AACD,6BAJI,CAML;AANK,iCAOA,IAAIF,CAAC,IAAI,MAAL,IAAeA,CAAC,IAAI,MAApB,IAA8B,CAAC,KAAKR,KAAL,CAAWqB,SAA9C,EAAyD;AAC5D,sCAAMJ,KAAK,GAAG,IAAIC,KAAJ,CAAUzE,SAAV,CAAd;AACAwE,gCAAAA,KAAK,CAACE,IAAN;AACAJ,gCAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,qCAAKnC,QAAL,CAAc;AAAEwC,kCAAAA,SAAS,EAAE;AAAb,iCAAd;AACD,+BALI,CAOL;AAPK,mCAQA,IAAI,KAAKrB,KAAL,CAAWd,MAAX,CAAkBoC,MAAlB,GAA2B,CAA3B,IAAgCb,MAApC,EAA4C;AAC/C,wCAAMQ,KAAK,GAAG,IAAIC,KAAJ,CAAUxE,QAAV,CAAd;AACAuE,kCAAAA,KAAK,CAACE,IAAN;AACAJ,kCAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,uCAAKnC,QAAL,CAAc;AAAE4B,oCAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,mCAAd;AACAK,kCAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,iCANI,CAQL;AARK,qCASA,IAAI,KAAKhB,KAAL,CAAWX,QAAX,CAAoBiC,MAApB,GAA6B,CAA7B,IAAkCb,MAAtC,EAA8C;AACjDM,oCAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,wCAAI,KAAKhB,KAAL,CAAWX,QAAX,CAAoB,CAApB,EAAuBkC,IAAvB,GAA8B,MAAlC,EAA0C;AACxC,0CAAIN,KAAJ;AAEA,4CAAMO,IAAI,GAAG,KAAKxB,KAAL,CAAWX,QAAX,CAAoB,CAApB,EAAuBoC,MAApC;;AAEA,0CAAID,IAAI,KAAK,CAAb,EAAgB;AACdP,wCAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUhE,iBAAV,CAAR;AACD,uCAFD,MAEO,IAAIsE,IAAI,KAAK,CAAb,EAAgB;AACrBP,wCAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUjE,eAAV,CAAR;AACD,uCAFM,MAEA,IAAIuE,IAAI,KAAK,CAAb,EAAgB;AACrBP,wCAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUnE,YAAV,CAAR;AACD,uCAFM,MAEA,IAAIyE,IAAI,KAAK,CAAb,EAAgB;AACrBP,wCAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUlE,YAAV,CAAR;AACD;;AAEDiE,sCAAAA,KAAK,CAACE,IAAN;AACAJ,sCAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,2CAAKnC,QAAL,CAAc;AAAE4B,wCAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,uCAAd;AACD;AACF,mCArBI,CAsBL;AAtBK,uCAuBA,IAAI,KAAKV,KAAL,CAAWb,OAAX,CAAmBmC,MAAnB,GAA4B,CAA5B,IAAiCb,MAArC,EAA6C;AAChDM,sCAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,0CAAI,KAAKhB,KAAL,CAAWb,OAAX,CAAmB,CAAnB,EAAsBoC,IAAtB,GAA6B,MAAjC,EAAyC;AACvC,4CAAIN,KAAJ;AAEA,8CAAMO,IAAI,GAAG,KAAKxB,KAAL,CAAWb,OAAX,CAAmB,CAAnB,EAAsBsC,MAAnC;;AACA,4CAAID,IAAI,KAAK,CAAb,EAAgB;AACdP,0CAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUvE,aAAV,CAAR;AACD,yCAFD,MAEO,IAAI6E,IAAI,KAAK,CAAb,EAAgB;AACrBP,0CAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUtE,aAAV,CAAR;AACD;;AACDqE,wCAAAA,KAAK,CAACE,IAAN;AACAJ,wCAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,6CAAKnC,QAAL,CAAc;AAAE4B,0CAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,yCAAd;AACD;AACF,qCAfI,CAgBL;AAhBK,yCAiBA,IAAI,KAAKV,KAAL,CAAWZ,OAAX,CAAmBkC,MAAnB,GAA4B,CAA5B,IAAiCb,MAArC,EAA6C;AAChDM,wCAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,4CAAI,KAAKhB,KAAL,CAAWZ,OAAX,CAAmB,CAAnB,EAAsBmC,IAAtB,GAA6B,MAAjC,EAAyC;AACvC,8CAAIN,KAAJ;AAEA,gDAAMO,IAAI,GAAG,KAAKxB,KAAL,CAAWZ,OAAX,CAAmB,CAAnB,EAAsBqC,MAAnC;;AACA,8CAAID,IAAI,KAAK,CAAb,EAAgB;AACdP,4CAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUrE,aAAV,CAAR;AACD,2CAFD,MAEO,IAAI2E,IAAI,KAAK,CAAb,EAAgB;AACrBP,4CAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUpE,aAAV,CAAR;AACD;;AAEDmE,0CAAAA,KAAK,CAACE,IAAN;AACAJ,0CAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,+CAAKnC,QAAL,CAAc;AAAE4B,4CAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,2CAAd;AACD;AACF,uCAhBI,CAiBL;AAjBK,2CAkBA,IAAI,KAAKV,KAAL,CAAWL,MAAX,CAAkB2B,MAAlB,GAA2B,CAA3B,IAAgCb,MAApC,EAA4C;AAC/CM,0CAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,8CAAI,KAAKhB,KAAL,CAAWL,MAAX,CAAkB,CAAlB,EAAqB4B,IAArB,GAA4B,MAAhC,EAAwC;AACtC,gDAAIN,KAAK,GAAG,IAAIC,KAAJ,CAAU7C,QAAV,CAAZ;AACA4C,4CAAAA,KAAK,CAACE,IAAN;AACAJ,4CAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,iDAAKnC,QAAL,CAAc;AAAE4B,8CAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,6CAAd;AACD;AACF;AAED;;;;;AAMA;AAhBK,6CAiBA,IAAI,KAAKV,KAAL,CAAWT,SAAX,CAAqB+B,MAArB,GAA8B,CAA9B,IAAmCb,MAAvC,EAA+C;AAClDM,4CAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;;AACA,gDAAI,KAAKhB,KAAL,CAAWT,SAAX,CAAqB,CAArB,EAAwBgC,IAAxB,GAA+B,OAAnC,EAA4C;AAC1C,oDAAMG,MAAM,GAAG,CACb1D,aADa,EAEbI,gBAFa,EAGbH,cAHa,EAIbC,WAJa,EAKbC,WALa,CAAf;AAOA,oDAAM8C,KAAK,GAAG,IAAIC,KAAJ,CAAUQ,MAAM,CAAC,KAAK1B,KAAL,CAAWT,SAAX,CAAqB,CAArB,EAAwBkC,MAAzB,CAAhB,CAAd;AACAR,8CAAAA,KAAK,CAACE,IAAN;;AACA,kDAAI,KAAKnB,KAAL,CAAWT,SAAX,CAAqB,CAArB,EAAwBkC,MAAxB,KAAmC,CAAvC,EAA0C;AACxC,qDAAK5C,QAAL,CAAc;AAAE4B,kDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL,KAAa;AAAvB,iDAAd;AACD,+CAFD,MAEO;AACL,qDAAK7B,QAAL,CAAc;AAAE4B,kDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,iDAAd;AACD;AACF;AACF,2CAlBI,CAoBL;AApBK,+CAqBA,IAAI,KAAKV,KAAL,CAAWV,UAAX,CAAsBgC,MAAtB,GAA+B,CAA/B,IAAoCb,MAAxC,EAAgD;AACnDM,8CAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AACA,kDAAI,KAAKhB,KAAL,CAAWV,UAAX,CAAsB,CAAtB,EAAyBiC,IAAzB,GAAgC,OAApC,EAA6C;AAC3C,sDAAMG,MAAM,GAAG,CACb1D,aADa,EAEbI,gBAFa,EAGbH,cAHa,EAIbC,WAJa,EAKbC,WALa,CAAf;AAOA,sDAAM8C,KAAK,GAAG,IAAIC,KAAJ,CAAUQ,MAAM,CAAC,KAAK1B,KAAL,CAAWV,UAAX,CAAsB,CAAtB,EAAyBmC,MAA1B,CAAhB,CAAd;AACAR,gDAAAA,KAAK,CAACE,IAAN;AACA,qDAAKtC,QAAL,CAAc;AAAE4B,kDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,iDAAd;AACD;AACF,6CAdI,CAgBL;AAhBK,iDAiBA,IAAI,KAAKV,KAAL,CAAWR,SAAX,CAAqB8B,MAArB,GAA8B,CAA9B,IAAmCb,MAAvC,EAA+C;AAClDM,gDAAAA,OAAO,CAACC,GAAR,CAAY,cAAc,KAAKhB,KAAL,CAAWR,SAAX,CAAqB,CAArB,EAAwB+B,IAAlD;;AACA,oDAAI,KAAKvB,KAAL,CAAWR,SAAX,CAAqB,CAArB,EAAwB+B,IAAxB,GAA+B,MAAnC,EAA2C;AACzC,wDAAMG,MAAM,GAAG,CACb1D,aADa,EAEbI,gBAFa,EAGbH,cAHa,EAIbC,WAJa,EAKbC,WALa,CAAf;AAOA,wDAAM8C,KAAK,GAAG,IAAIC,KAAJ,CAAUQ,MAAM,CAAC,KAAK1B,KAAL,CAAWR,SAAX,CAAqB,CAArB,EAAwBiC,MAAzB,CAAhB,CAAd;AACAR,kDAAAA,KAAK,CAACE,IAAN;AACA,uDAAKtC,QAAL,CAAc;AAAE4B,oDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,mDAAd;AACAK,kDAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD;AACF,+CAfI,CAiBL;AAjBK,mDAkBA,IAAI,KAAKhB,KAAL,CAAWP,UAAX,CAAsB6B,MAAtB,GAA+B,CAA/B,IAAoCb,MAAxC,EAAgD;AACnDM,kDAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AAEA,sDAAI,KAAKhB,KAAL,CAAWP,UAAX,CAAsB,CAAtB,EAAyB8B,IAAzB,GAAgC,OAApC,EAA6C;AAC3C,0DAAMG,MAAM,GAAG,CACb1D,aADa,EAEbI,gBAFa,EAGbH,cAHa,EAIbC,WAJa,EAKbC,WALa,CAAf;AAOA,0DAAM8C,KAAK,GAAG,IAAIC,KAAJ,CAAUQ,MAAM,CAAC,KAAK1B,KAAL,CAAWP,UAAX,CAAsB,CAAtB,EAAyBgC,MAA1B,CAAhB,CAAd;AACAR,oDAAAA,KAAK,CAACE,IAAN;AACA,yDAAKtC,QAAL,CAAc;AAAE4B,sDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,qDAAd;AACD;AACF,iDAfI,CAiBL;AAjBK,qDAkBA,IAAI,KAAKV,KAAL,CAAWN,SAAX,CAAqB4B,MAArB,GAA8B,CAA9B,IAAmCb,MAAvC,EAA+C;AAClDM,oDAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AAEA,wDAAI,KAAKhB,KAAL,CAAWN,SAAX,CAAqB,CAArB,EAAwB6B,IAAxB,GAA+B,OAAnC,EAA4C;AAC1C,4DAAMG,MAAM,GAAG,CACb1D,aADa,EAEbI,gBAFa,EAGbH,cAHa,EAIbC,WAJa,EAKbC,WALa,CAAf;AAOA,4DAAM8C,KAAK,GAAG,IAAIC,KAAJ,CAAUQ,MAAM,CAAC,KAAK1B,KAAL,CAAWN,SAAX,CAAqB,CAArB,EAAwB+B,MAAzB,CAAhB,CAAd;AACAR,sDAAAA,KAAK,CAACE,IAAN;AACA,2DAAKtC,QAAL,CAAc;AAAE4B,wDAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,uDAAd;AACD,qDAXD,MAWO;AACLK,sDAAAA,OAAO,CAACC,GAAR,CACE,KAAKhB,KAAL,CAAWN,SAAX,CAAqB,CAArB,EAAwB6B,IAAxB,GAA+B,GAA/B,GAAqC,KAAKvB,KAAL,CAAWN,SAAX,CAAqB,CAArB,EAAwB+B,MAD/D;AAGD;AACF;AAED;;;;;;AAKD,KAxaa;;AAAA,SA0adE,UA1ac,GA0aDnB,CAAC,IAAI;AAChBO,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KA5aa;;AAEZ,SAAKhB,KAAL,GAAa;AACXf,MAAAA,IAAI,EAAE,EADK;AAEXH,MAAAA,KAAK,EAAE,EAFI;AAGXmB,MAAAA,IAAI,EAAE,IAAII,IAAJ,EAHK;AAIXN,MAAAA,SAAS,EAAE,CAJA;AAKXqB,MAAAA,UAAU,EAAE,KALD;AAMXC,MAAAA,SAAS,EAAE,KANA;AAOXlC,MAAAA,OAAO,EAAE,EAPE;AAQXC,MAAAA,OAAO,EAAE,EARE;AASXF,MAAAA,MAAM,EAAE,EATG;AAUXG,MAAAA,QAAQ,EAAE,EAVC;AAWXC,MAAAA,UAAU,EAAE,EAXD;AAYXC,MAAAA,SAAS,EAAE,EAZA;AAaXC,MAAAA,SAAS,EAAE,EAbA;AAcXC,MAAAA,UAAU,EAAE,EAdD;AAeXC,MAAAA,SAAS,EAAE,EAfA;AAgBXC,MAAAA,MAAM,EAAE,EAhBG;AAiBXc,MAAAA,MAAM,EAAE;AAjBG,KAAb;AAmBD;;AACDmB,EAAAA,iBAAiB,GAAG;AAClB,SAAKpD,KAAL;AAEAqD,IAAAA,WAAW,CAAC,MAAM;AAChB,WAAKjC,KAAL;AACA,WAAK+B,UAAL;AACD,KAHU,EAGR,IAHQ,CAAX;AAID;;AAiZDG,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAjb2B;;AAob9B,eAAexD,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport bellAudio from './sounds/bell.mp3';\nimport busAudio from './sounds/bus.mp3';\nimport joseFeedAudio from './sounds/jose_feed.mp3';\nimport juanFeedAudio from './sounds/juan_feed.mp3';\nimport joseWalkAudio from './sounds/jose_walk.mp3';\nimport juanWalkAudio from './sounds/juan_walk.mp3';\nimport joseBinAudio from './sounds/jose_bin.mp3';\nimport juanBinAudio from './sounds/juan_bin.mp3';\nimport alfredoBinAudio from './sounds/alfredo_bin.mp3';\nimport jackelineBinAudio from './sounds/jackeline_bin.mp3';\nimport audio1 from './sounds/1.mp3';\nimport audio2 from './sounds/2.mp3';\nimport audio3 from './sounds/3.mp3';\nimport audio4 from './sounds/4.mp3';\nimport audio5 from './sounds/5.mp3';\nimport audio6 from './sounds/6.mp3';\nimport audio7 from './sounds/7.mp3';\nimport audio8 from './sounds/8.mp3';\nimport audio9 from './sounds/9.mp3';\nimport audio10 from './sounds/10.mp3';\nimport audio11 from './sounds/11.mp3';\nimport audio12 from './sounds/12.mp3';\nimport japancakes from './sounds/japancakes.mp3';\nimport overdueAndrea from './sounds/overdue_andrea.mp3';\nimport overdueAlfredo from './sounds/overdue_alfredo_2.mp3';\nimport overdueJose from './sounds/overdue_jose.mp3';\nimport overdueJuan from './sounds/overdue_juan.mp3';\nimport overdueJackeline from './sounds/overdue_jackeline.mp3';\nimport bagAudio from './sounds/trashbags.mp3';\nclass Alarm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      info: {},\n      users: [],\n      time: new Date(),\n      clockCode: 0,\n      alarmBells: false,\n      alarmBus1: false,\n      catFeed: [],\n      catWalk: [],\n      catBus: [],\n      catTrash: [],\n      catMorning: [],\n      catChores: [],\n      catBefore: [],\n      catReading: [],\n      catShower: [],\n      catBag: [],\n      buffer: 0\n    };\n  }\n  componentDidMount() {\n    this.fetch();\n\n    setInterval(() => {\n      this.alarm();\n      this.taskMaster();\n    }, 1000);\n  }\n\n  fetch = () => {\n    const url = 'https://safe-anchorage-33083.herokuapp.com';\n\n    // get users stats\n    axios.get(url + '/api/tokens/ssj').then(res => {\n      this.setState({ users: res.data, loading: false });\n    });\n\n    // get general info / debug info\n    axios.get(url + '/api/tokens/info').then(res => {\n      this.setState({ info: res.data });\n    });\n\n    // get bus info\n    axios.get(url + '/api/tokens/cat/7/true').then(res => {\n      this.setState({ catBus: res.data });\n    });\n\n    // get dog feed info\n    axios.get(url + '/api/tokens/cat/4/true').then(res => {\n      this.setState({ catFeed: res.data });\n    });\n\n    // get dog walk info\n    axios.get(url + '/api/tokens/cat/5/true').then(res => {\n      this.setState({ catWalk: res.data });\n    });\n\n    // get trash info\n    axios.get(url + '/api/tokens/cat/6/true').then(res => {\n      this.setState({ catTrash: res.data });\n    });\n\n    // get morning info\n    axios.get(url + '/api/tokens/cat/1/true').then(res => {\n      this.setState({ catMorning: res.data });\n    });\n\n    // get chores info\n    axios.get(url + '/api/tokens/cat/0/true').then(res => {\n      this.setState({ catChores: res.data });\n    });\n\n    // get chores info\n    axios.get(url + '/api/tokens/cat/2/true').then(res => {\n      this.setState({ catBefore: res.data });\n    });\n\n    // get chores info\n    axios.get(url + '/api/tokens/cat/9/true').then(res => {\n      this.setState({ catReading: res.data });\n    });\n    // get shower info\n    axios.get(url + '/api/tokens/cat/3/true').then(res => {\n      this.setState({ catShower: res.data });\n    });\n\n    // get bags info\n    axios.get(url + '/api/tokens/cat/10/true').then(res => {\n      this.setState({ catBag: res.data });\n    });\n  };\n  alarm = () => {\n    this.fetch();\n\n    // Clock code\n    const addZero = i => {\n      if (i < 10) {\n        i = '0' + i;\n      }\n      return i;\n    };\n    const clockCode =\n      addZero(this.state.time.getHours()) +\n      '' +\n      addZero(this.state.time.getMinutes()) +\n      '' +\n      addZero(this.state.time.getSeconds());\n    this.setState({\n      time: new Date(),\n      clockCode\n    });\n\n    // Sound control\n    this.soundControl(parseInt(this.state.clockCode));\n  };\n\n  soundControl = n => {\n    let buffer = false;\n    if (18000 < Date.now() - this.state.buffer) {\n      buffer = true;\n    }\n\n    // console.log(this.state.catWalk[0].timeSent);\n\n    const color = this.state.info.colorID;\n    // 0-Alfredo 1-Jackeline 2-Jose 3-Juan\n\n    // 0 Juan - Feed ___ 1 Jose - Feed\n    const doggyPEEP = [0, 1, 0, 1];\n    const doggyID = doggyPEEP[color];\n\n    console.log(doggyID);\n\n    // 6:50 AM -- class begins\n    if (n === 75100) {\n      const audio = new Audio(japancakes);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n      console.log('1 playing');\n    }\n\n    // 7:50 AM -- morning bell\n    if (n >= 75000 && n <= 75030 && !this.state.alarmBells) {\n      const audio = new Audio(bellAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ alarmBells: true });\n      this.setState({ buffer: Date.now() });\n      console.log('2 playing');\n    }\n\n    //  1 o'clock\n    else if (n === 130000) {\n      const audio = new Audio(audio1);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 2 o'clock\n    else if (n === 140000) {\n      const audio = new Audio(audio2);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 3 o'clock\n    else if (n === 150000) {\n      const audio = new Audio(audio3);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 4 o'clock\n    else if (n === 160000) {\n      const audio = new Audio(audio4);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 5 o'clock\n    else if (n === 170000) {\n      const audio = new Audio(audio5);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 6 o'clock\n    else if (n === 180000) {\n      const audio = new Audio(audio6);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 7 o'clock\n    else if (n === 190000) {\n      const audio = new Audio(audio7);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 8 o'clock\n    else if (n === 80000) {\n      const audio = new Audio(audio8);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 9 o'clock\n    else if (n === 90000) {\n      const audio = new Audio(audio9);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 10 o'clock\n    else if (n === 100000) {\n      const audio = new Audio(audio10);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 12 o'clock\n    else if (n === 120000) {\n      const audio = new Audio(audio12);\n      audio.play();\n      this.setState({ buffer: Date.now() });\n    }\n\n    // 11:00AM -- school bell\n    else if (n >= 110000 && n <= 110030 && !this.state.alarmBus1) {\n      const audio = new Audio(bellAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ alarmBus1: true });\n    }\n\n    // REMINDER: bus\n    else if (this.state.catBus.length > 0 && buffer) {\n      const audio = new Audio(busAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n      console.log('3 playing');\n    }\n\n    // REMINDER: trash curb\n    else if (this.state.catTrash.length > 0 && buffer) {\n      console.log('4 playing');\n      if (this.state.catTrash[0].diff > 900000) {\n        let audio;\n\n        const user = this.state.catTrash[0].userID;\n\n        if (user === 1) {\n          audio = new Audio(jackelineBinAudio);\n        } else if (user === 2) {\n          audio = new Audio(alfredoBinAudio);\n        } else if (user === 3) {\n          audio = new Audio(joseBinAudio);\n        } else if (user === 4) {\n          audio = new Audio(juanBinAudio);\n        }\n\n        audio.play();\n        console.log('playing sound');\n        this.setState({ buffer: Date.now() });\n      }\n    }\n    // REMINDER: feed\n    else if (this.state.catFeed.length > 0 && buffer) {\n      console.log('5 playing');\n      if (this.state.catFeed[0].diff > 900000) {\n        let audio;\n\n        const user = this.state.catFeed[0].userID;\n        if (user === 3) {\n          audio = new Audio(joseFeedAudio);\n        } else if (user === 4) {\n          audio = new Audio(juanFeedAudio);\n        }\n        audio.play();\n        console.log('playing sound');\n        this.setState({ buffer: Date.now() });\n      }\n    }\n    // REMINDER: walk\n    else if (this.state.catWalk.length > 0 && buffer) {\n      console.log('6 playing');\n      if (this.state.catWalk[0].diff > 900000) {\n        let audio;\n\n        const user = this.state.catWalk[0].userID;\n        if (user === 3) {\n          audio = new Audio(joseWalkAudio);\n        } else if (user === 4) {\n          audio = new Audio(juanWalkAudio);\n        }\n\n        audio.play();\n        console.log('playing sound');\n        this.setState({ buffer: Date.now() });\n      }\n    }\n    // REMINDER: trashbag\n    else if (this.state.catBag.length > 0 && buffer) {\n      console.log('7 playing');\n      if (this.state.catBag[0].diff > 900000) {\n        let audio = new Audio(bagAudio);\n        audio.play();\n        console.log('playing sound');\n        this.setState({ buffer: Date.now() });\n      }\n    }\n\n    /*\n    ==========================================================\n    ============= NUDGER START ===============================\n    ==========================================================\n    */\n\n    // NUDGE chores\n    else if (this.state.catChores.length > 0 && buffer) {\n      console.log('is it nudging?');\n      if (this.state.catChores[0].diff > 1800000) {\n        const sounds = [\n          overdueAndrea,\n          overdueJackeline,\n          overdueAlfredo,\n          overdueJose,\n          overdueJuan\n        ];\n        const audio = new Audio(sounds[this.state.catChores[0].userID]);\n        audio.play();\n        if (this.state.catChores[0].userID === 2) {\n          this.setState({ buffer: Date.now() - 5000 });\n        } else {\n          this.setState({ buffer: Date.now() });\n        }\n      }\n    }\n\n    // NUDGE morning\n    else if (this.state.catMorning.length > 0 && buffer) {\n      console.log('8 playing');\n      if (this.state.catMorning[0].diff > 1800000) {\n        const sounds = [\n          overdueAndrea,\n          overdueJackeline,\n          overdueAlfredo,\n          overdueJose,\n          overdueJuan\n        ];\n        const audio = new Audio(sounds[this.state.catMorning[0].userID]);\n        audio.play();\n        this.setState({ buffer: Date.now() });\n      }\n    }\n\n    // NUDGE before\n    else if (this.state.catBefore.length > 0 && buffer) {\n      console.log('9 playing' + this.state.catBefore[0].diff);\n      if (this.state.catBefore[0].diff > 180000) {\n        const sounds = [\n          overdueAndrea,\n          overdueJackeline,\n          overdueAlfredo,\n          overdueJose,\n          overdueJuan\n        ];\n        const audio = new Audio(sounds[this.state.catBefore[0].userID]);\n        audio.play();\n        this.setState({ buffer: Date.now() });\n        console.log('actually playing');\n      }\n    }\n\n    // NUDGE reading\n    else if (this.state.catReading.length > 0 && buffer) {\n      console.log('10 playing');\n\n      if (this.state.catReading[0].diff > 1800000) {\n        const sounds = [\n          overdueAndrea,\n          overdueJackeline,\n          overdueAlfredo,\n          overdueJose,\n          overdueJuan\n        ];\n        const audio = new Audio(sounds[this.state.catReading[0].userID]);\n        audio.play();\n        this.setState({ buffer: Date.now() });\n      }\n    }\n\n    // NUDGE shower\n    else if (this.state.catShower.length > 0 && buffer) {\n      console.log('11 playing');\n\n      if (this.state.catShower[0].diff > 1800000) {\n        const sounds = [\n          overdueAndrea,\n          overdueJackeline,\n          overdueAlfredo,\n          overdueJose,\n          overdueJuan\n        ];\n        const audio = new Audio(sounds[this.state.catShower[0].userID]);\n        audio.play();\n        this.setState({ buffer: Date.now() });\n      } else {\n        console.log(\n          this.state.catShower[0].diff + ' ' + this.state.catShower[0].userID\n        );\n      }\n    }\n\n    /*\n    ==========================================================\n    ============= NUDGER END =================================\n    ==========================================================\n    */\n  };\n\n  taskMaster = n => {\n    console.log('taskmaster');\n  };\n\n  render() {\n    return <div></div>;\n  }\n}\n\nexport default Alarm;\n"]},"metadata":{},"sourceType":"module"}