{"ast":null,"code":"var _jsxFileName = \"/Users/luisrubio/code/archive/automate-kaizen/src/components/alarm/Alarm.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport bellAudio from './sounds/bell.mp3';\nimport busAudio from './sounds/bus.mp3';\nimport strawberryAudio from './sounds/strawberry.mp3';\nimport joseFeedAudio from './sounds/jose_feed.mp3';\nimport juanFeedAudio from './sounds/juan_feed.mp3';\nimport joseWalkAudio from './sounds/jose_walk.mp3';\nimport juanWalkAudio from './sounds/juan_walk.mp3';\nimport joseBinAudio from './sounds/jose_bin.mp3';\nimport juanBinAudio from './sounds/juan_bin.mp3';\nimport alfredoBinAudio from './sounds/alfredo_bin.mp3';\nimport jackelineBinAudio from './sounds/jackeline_bin.mp3';\nimport dvaAudio from './sounds/dva.mp3';\nimport bellsChristmasAudio from './sounds/bells_christmas.mp3';\nimport bellsAltAudio from './sounds/bell_alt.mp3';\nimport trapClausAudio from './sounds/trapclaus.mp3';\nimport bellsShortAudio from './sounds/bells_short.mp3';\n\nclass Alarm extends Component {\n  constructor() {\n    super();\n\n    this.fetch = () => {\n      const url = 'https://safe-anchorage-33083.herokuapp.com'; // get users stats\n\n      axios.get(url + '/api/tokens/ssj').then(res => {\n        this.setState({\n          users: res.data,\n          loading: false\n        });\n      }); // get general info / debug info\n\n      axios.get(url + '/api/tokens/info').then(res => {\n        this.setState({\n          info: res.data\n        });\n      }); // get bus info\n\n      axios.get(url + '/api/tokens/cat/7/true').then(res => {\n        this.setState({\n          catBus: res.data\n        });\n      }); // get dog feed info\n\n      axios.get(url + '/api/tokens/cat/4/true').then(res => {\n        this.setState({\n          catFeed: res.data\n        });\n      }); // get dog walk info\n\n      axios.get(url + '/api/tokens/cat/5/true').then(res => {\n        this.setState({\n          catWalk: res.data\n        });\n      }); // get trash info\n\n      axios.get(url + '/api/tokens/cat/6/true').then(res => {\n        this.setState({\n          catTrash: res.data\n        });\n      });\n    };\n\n    this.alarm = () => {\n      this.fetch(); // Clock code\n\n      const addZero = i => {\n        if (i < 10) {\n          i = '0' + i;\n        }\n\n        return i;\n      };\n\n      const clockCode = addZero(this.state.time.getHours()) + '' + addZero(this.state.time.getMinutes()) + '' + addZero(this.state.time.getSeconds());\n      this.setState({\n        time: new Date(),\n        clockCode\n      }); // Sound control\n\n      this.soundControl(parseInt(this.state.clockCode));\n    };\n\n    this.soundControl = n => {\n      let buffer = false;\n\n      if (15000 < Date.now() - this.state.buffer) {\n        buffer = true;\n      } // console.log(this.state.catWalk[0].timeSent);\n\n\n      const color = this.state.info.colorID; // 0-Alfredo 1-Jackeline 2-Jose 3-Juan\n      // 0 Juan - Feed ___ 1 Jose - Feed\n\n      const doggyPEEP = [0, 1, 0, 1];\n      const doggyID = doggyPEEP[color];\n      console.log(doggyID); // 7:00PM -- game on\n\n      if (n >= 71207 && n <= 71230 && !this.state.alarmBells) {\n        const audio = new Audio(bellsChristmasAudio);\n        audio.play();\n        console.log('playing sound');\n        this.setState({\n          alarmBells: true\n        });\n        this.setState({\n          buffer: Date.now()\n        });\n      } else if (n === 71200) {\n        const audio = new Audio(bellsShortAudio);\n        audio.play();\n        console.log('playing sound');\n        this.setState({\n          buffer: Date.now()\n        });\n      } else if (n === 140009) {\n        const audio = new Audio(trapClausAudio);\n        audio.play();\n        console.log('playing sound');\n      } // 11:00AM -- school bell\n      else if (n >= 75000 && n <= 75030 && !this.state.alarmBus1) {\n          const audio = new Audio(bellAudio);\n          audio.play();\n          console.log('playing sound');\n          this.setState({\n            alarmBus1: true\n          });\n        } // REMINDER: bus\n        else if (this.state.catBus.length > 0 && buffer) {\n            const audio = new Audio(busAudio);\n            audio.play();\n            console.log('playing sound');\n            this.setState({\n              buffer: Date.now()\n            });\n          } // REMINDER: trash\n          else if (this.state.catTrash.length > 0 && buffer) {\n              let audio;\n              const user = this.state.catTrash[0].userID;\n\n              if (user === 1) {\n                audio = new Audio(jackelineBinAudio);\n              } else if (user === 2) {\n                audio = new Audio(alfredoBinAudio);\n              } else if (user === 3) {\n                audio = new Audio(joseBinAudio);\n              } else if (user === 4) {\n                audio = new Audio(juanBinAudio);\n              }\n\n              audio.play();\n              console.log('playing sound');\n              this.setState({\n                buffer: Date.now()\n              });\n            } // REMINDER: feed\n            else if (this.state.catFeed.length > 0 && buffer) {\n                let audio;\n                const user = this.state.catFeed[0].userID;\n\n                if (user === 3) {\n                  audio = new Audio(joseFeedAudio);\n                } else if (user === 4) {\n                  audio = new Audio(juanFeedAudio);\n                }\n\n                audio.play();\n                console.log('playing sound');\n                this.setState({\n                  buffer: Date.now()\n                });\n              } // REMINDER: walk\n              else if (this.state.catWalk.length > 0 && buffer) {\n                  let audio;\n                  const user = this.state.catWalk[0].userID;\n\n                  if (user === 3) {\n                    audio = new Audio(joseWalkAudio);\n                  } else if (user === 4) {\n                    audio = new Audio(juanWalkAudio);\n                  }\n\n                  audio.play();\n                  console.log('playing sound');\n                  this.setState({\n                    buffer: Date.now()\n                  });\n                }\n    };\n\n    this.taskMaster = n => {\n      console.log('taskmaster');\n    };\n\n    this.state = {\n      info: {},\n      users: [],\n      time: new Date(),\n      clockCode: 0,\n      alarmBells: false,\n      alarmBus1: false,\n      catFeed: [],\n      catWalk: [],\n      catBus: [],\n      catTrash: [],\n      buffer: 0\n    };\n  }\n\n  componentDidMount() {\n    this.fetch();\n    setInterval(() => {\n      this.alarm();\n      this.taskMaster();\n    }, 1000);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Alarm;","map":{"version":3,"sources":["/Users/luisrubio/code/archive/automate-kaizen/src/components/alarm/Alarm.js"],"names":["React","Component","axios","bellAudio","busAudio","strawberryAudio","joseFeedAudio","juanFeedAudio","joseWalkAudio","juanWalkAudio","joseBinAudio","juanBinAudio","alfredoBinAudio","jackelineBinAudio","dvaAudio","bellsChristmasAudio","bellsAltAudio","trapClausAudio","bellsShortAudio","Alarm","constructor","fetch","url","get","then","res","setState","users","data","loading","info","catBus","catFeed","catWalk","catTrash","alarm","addZero","i","clockCode","state","time","getHours","getMinutes","getSeconds","Date","soundControl","parseInt","n","buffer","now","color","colorID","doggyPEEP","doggyID","console","log","alarmBells","audio","Audio","play","alarmBus1","length","user","userID","taskMaster","componentDidMount","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,iBAAP,MAA8B,4BAA9B;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,mBAAP,MAAgC,8BAAhC;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,OAAOC,eAAP,MAA4B,0BAA5B;;AAEA,MAAMC,KAAN,SAAoBlB,SAApB,CAA8B;AAC5BmB,EAAAA,WAAW,GAAG;AACZ;;AADY,SAyBdC,KAzBc,GAyBN,MAAM;AACZ,YAAMC,GAAG,GAAG,4CAAZ,CADY,CAGZ;;AACApB,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,iBAAhB,EAAmCE,IAAnC,CAAwCC,GAAG,IAAI;AAC7C,aAAKC,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAEF,GAAG,CAACG,IAAb;AAAmBC,UAAAA,OAAO,EAAE;AAA5B,SAAd;AACD,OAFD,EAJY,CAQZ;;AACA3B,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,kBAAhB,EAAoCE,IAApC,CAAyCC,GAAG,IAAI;AAC9C,aAAKC,QAAL,CAAc;AAAEI,UAAAA,IAAI,EAAEL,GAAG,CAACG;AAAZ,SAAd;AACD,OAFD,EATY,CAaZ;;AACA1B,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEK,UAAAA,MAAM,EAAEN,GAAG,CAACG;AAAd,SAAd;AACD,OAFD,EAdY,CAkBZ;;AACA1B,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEM,UAAAA,OAAO,EAAEP,GAAG,CAACG;AAAf,SAAd;AACD,OAFD,EAnBY,CAuBZ;;AACA1B,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEO,UAAAA,OAAO,EAAER,GAAG,CAACG;AAAf,SAAd;AACD,OAFD,EAxBY,CA4BZ;;AACA1B,MAAAA,KAAK,CAACqB,GAAN,CAAUD,GAAG,GAAG,wBAAhB,EAA0CE,IAA1C,CAA+CC,GAAG,IAAI;AACpD,aAAKC,QAAL,CAAc;AAAEQ,UAAAA,QAAQ,EAAET,GAAG,CAACG;AAAhB,SAAd;AACD,OAFD;AAGD,KAzDa;;AAAA,SA0DdO,KA1Dc,GA0DN,MAAM;AACZ,WAAKd,KAAL,GADY,CAGZ;;AACA,YAAMe,OAAO,GAAGC,CAAC,IAAI;AACnB,YAAIA,CAAC,GAAG,EAAR,EAAY;AACVA,UAAAA,CAAC,GAAG,MAAMA,CAAV;AACD;;AACD,eAAOA,CAAP;AACD,OALD;;AAMA,YAAMC,SAAS,GACbF,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBC,QAAhB,EAAD,CAAP,GACA,EADA,GAEAL,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBE,UAAhB,EAAD,CAFP,GAGA,EAHA,GAIAN,OAAO,CAAC,KAAKG,KAAL,CAAWC,IAAX,CAAgBG,UAAhB,EAAD,CALT;AAMA,WAAKjB,QAAL,CAAc;AACZc,QAAAA,IAAI,EAAE,IAAII,IAAJ,EADM;AAEZN,QAAAA;AAFY,OAAd,EAhBY,CAqBZ;;AACA,WAAKO,YAAL,CAAkBC,QAAQ,CAAC,KAAKP,KAAL,CAAWD,SAAZ,CAA1B;AACD,KAjFa;;AAAA,SAmFdO,YAnFc,GAmFCE,CAAC,IAAI;AAClB,UAAIC,MAAM,GAAG,KAAb;;AACA,UAAI,QAAQJ,IAAI,CAACK,GAAL,KAAa,KAAKV,KAAL,CAAWS,MAApC,EAA4C;AAC1CA,QAAAA,MAAM,GAAG,IAAT;AACD,OAJiB,CAMlB;;;AAEA,YAAME,KAAK,GAAG,KAAKX,KAAL,CAAWT,IAAX,CAAgBqB,OAA9B,CARkB,CASlB;AAEA;;AACA,YAAMC,SAAS,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAlB;AACA,YAAMC,OAAO,GAAGD,SAAS,CAACF,KAAD,CAAzB;AAEAI,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAfkB,CAiBlB;;AACA,UAAIN,CAAC,IAAI,KAAL,IAAcA,CAAC,IAAI,KAAnB,IAA4B,CAAC,KAAKR,KAAL,CAAWiB,UAA5C,EAAwD;AACtD,cAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU3C,mBAAV,CAAd;AACA0C,QAAAA,KAAK,CAACE,IAAN;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aAAK7B,QAAL,CAAc;AAAE8B,UAAAA,UAAU,EAAE;AAAd,SAAd;AACA,aAAK9B,QAAL,CAAc;AAAEsB,UAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,SAAd;AACD,OAND,MAMO,IAAIF,CAAC,KAAK,KAAV,EAAiB;AACtB,cAAMU,KAAK,GAAG,IAAIC,KAAJ,CAAUxC,eAAV,CAAd;AACAuC,QAAAA,KAAK,CAACE,IAAN;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aAAK7B,QAAL,CAAc;AAAEsB,UAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,SAAd;AACD,OALM,MAKA,IAAIF,CAAC,KAAK,MAAV,EAAkB;AACvB,cAAMU,KAAK,GAAG,IAAIC,KAAJ,CAAUzC,cAAV,CAAd;AACAwC,QAAAA,KAAK,CAACE,IAAN;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,OAJM,CAMP;AANO,WAOF,IAAIR,CAAC,IAAI,KAAL,IAAcA,CAAC,IAAI,KAAnB,IAA4B,CAAC,KAAKR,KAAL,CAAWqB,SAA5C,EAAuD;AAC1D,gBAAMH,KAAK,GAAG,IAAIC,KAAJ,CAAUvD,SAAV,CAAd;AACAsD,UAAAA,KAAK,CAACE,IAAN;AACAL,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,eAAK7B,QAAL,CAAc;AAAEkC,YAAAA,SAAS,EAAE;AAAb,WAAd;AACD,SALI,CAOL;AAPK,aAQA,IAAI,KAAKrB,KAAL,CAAWR,MAAX,CAAkB8B,MAAlB,GAA2B,CAA3B,IAAgCb,MAApC,EAA4C;AAC/C,kBAAMS,KAAK,GAAG,IAAIC,KAAJ,CAAUtD,QAAV,CAAd;AACAqD,YAAAA,KAAK,CAACE,IAAN;AACAL,YAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,iBAAK7B,QAAL,CAAc;AAAEsB,cAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,aAAd;AACD,WALI,CAOL;AAPK,eAQA,IAAI,KAAKV,KAAL,CAAWL,QAAX,CAAoB2B,MAApB,GAA6B,CAA7B,IAAkCb,MAAtC,EAA8C;AACjD,kBAAIS,KAAJ;AAEA,oBAAMK,IAAI,GAAG,KAAKvB,KAAL,CAAWL,QAAX,CAAoB,CAApB,EAAuB6B,MAApC;;AAEA,kBAAID,IAAI,KAAK,CAAb,EAAgB;AACdL,gBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAU7C,iBAAV,CAAR;AACD,eAFD,MAEO,IAAIiD,IAAI,KAAK,CAAb,EAAgB;AACrBL,gBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAU9C,eAAV,CAAR;AACD,eAFM,MAEA,IAAIkD,IAAI,KAAK,CAAb,EAAgB;AACrBL,gBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUhD,YAAV,CAAR;AACD,eAFM,MAEA,IAAIoD,IAAI,KAAK,CAAb,EAAgB;AACrBL,gBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAU/C,YAAV,CAAR;AACD;;AAED8C,cAAAA,KAAK,CAACE,IAAN;AACAL,cAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,mBAAK7B,QAAL,CAAc;AAAEsB,gBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,eAAd;AACD,aAlBI,CAmBL;AAnBK,iBAoBA,IAAI,KAAKV,KAAL,CAAWP,OAAX,CAAmB6B,MAAnB,GAA4B,CAA5B,IAAiCb,MAArC,EAA6C;AAChD,oBAAIS,KAAJ;AAEA,sBAAMK,IAAI,GAAG,KAAKvB,KAAL,CAAWP,OAAX,CAAmB,CAAnB,EAAsB+B,MAAnC;;AACA,oBAAID,IAAI,KAAK,CAAb,EAAgB;AACdL,kBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUpD,aAAV,CAAR;AACD,iBAFD,MAEO,IAAIwD,IAAI,KAAK,CAAb,EAAgB;AACrBL,kBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUnD,aAAV,CAAR;AACD;;AACDkD,gBAAAA,KAAK,CAACE,IAAN;AACAL,gBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,qBAAK7B,QAAL,CAAc;AAAEsB,kBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,iBAAd;AACD,eAZI,CAaL;AAbK,mBAcA,IAAI,KAAKV,KAAL,CAAWN,OAAX,CAAmB4B,MAAnB,GAA4B,CAA5B,IAAiCb,MAArC,EAA6C;AAChD,sBAAIS,KAAJ;AAEA,wBAAMK,IAAI,GAAG,KAAKvB,KAAL,CAAWN,OAAX,CAAmB,CAAnB,EAAsB8B,MAAnC;;AACA,sBAAID,IAAI,KAAK,CAAb,EAAgB;AACdL,oBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUlD,aAAV,CAAR;AACD,mBAFD,MAEO,IAAIsD,IAAI,KAAK,CAAb,EAAgB;AACrBL,oBAAAA,KAAK,GAAG,IAAIC,KAAJ,CAAUjD,aAAV,CAAR;AACD;;AAEDgD,kBAAAA,KAAK,CAACE,IAAN;AACAL,kBAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,uBAAK7B,QAAL,CAAc;AAAEsB,oBAAAA,MAAM,EAAEJ,IAAI,CAACK,GAAL;AAAV,mBAAd;AACD;AACF,KAvLa;;AAAA,SAyLde,UAzLc,GAyLDjB,CAAC,IAAI;AAChBO,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,KA3La;;AAEZ,SAAKhB,KAAL,GAAa;AACXT,MAAAA,IAAI,EAAE,EADK;AAEXH,MAAAA,KAAK,EAAE,EAFI;AAGXa,MAAAA,IAAI,EAAE,IAAII,IAAJ,EAHK;AAIXN,MAAAA,SAAS,EAAE,CAJA;AAKXkB,MAAAA,UAAU,EAAE,KALD;AAMXI,MAAAA,SAAS,EAAE,KANA;AAOX5B,MAAAA,OAAO,EAAE,EAPE;AAQXC,MAAAA,OAAO,EAAE,EARE;AASXF,MAAAA,MAAM,EAAE,EATG;AAUXG,MAAAA,QAAQ,EAAE,EAVC;AAWXc,MAAAA,MAAM,EAAE;AAXG,KAAb;AAaD;;AACDiB,EAAAA,iBAAiB,GAAG;AAClB,SAAK5C,KAAL;AAEA6C,IAAAA,WAAW,CAAC,MAAM;AAChB,WAAK/B,KAAL;AACA,WAAK6B,UAAL;AACD,KAHU,EAGR,IAHQ,CAAX;AAID;;AAsKDG,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAhM2B;;AAmM9B,eAAehD,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport bellAudio from './sounds/bell.mp3';\nimport busAudio from './sounds/bus.mp3';\nimport strawberryAudio from './sounds/strawberry.mp3';\nimport joseFeedAudio from './sounds/jose_feed.mp3';\nimport juanFeedAudio from './sounds/juan_feed.mp3';\nimport joseWalkAudio from './sounds/jose_walk.mp3';\nimport juanWalkAudio from './sounds/juan_walk.mp3';\nimport joseBinAudio from './sounds/jose_bin.mp3';\nimport juanBinAudio from './sounds/juan_bin.mp3';\nimport alfredoBinAudio from './sounds/alfredo_bin.mp3';\nimport jackelineBinAudio from './sounds/jackeline_bin.mp3';\nimport dvaAudio from './sounds/dva.mp3';\nimport bellsChristmasAudio from './sounds/bells_christmas.mp3';\nimport bellsAltAudio from './sounds/bell_alt.mp3';\nimport trapClausAudio from './sounds/trapclaus.mp3';\nimport bellsShortAudio from './sounds/bells_short.mp3';\n\nclass Alarm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      info: {},\n      users: [],\n      time: new Date(),\n      clockCode: 0,\n      alarmBells: false,\n      alarmBus1: false,\n      catFeed: [],\n      catWalk: [],\n      catBus: [],\n      catTrash: [],\n      buffer: 0\n    };\n  }\n  componentDidMount() {\n    this.fetch();\n\n    setInterval(() => {\n      this.alarm();\n      this.taskMaster();\n    }, 1000);\n  }\n\n  fetch = () => {\n    const url = 'https://safe-anchorage-33083.herokuapp.com';\n\n    // get users stats\n    axios.get(url + '/api/tokens/ssj').then(res => {\n      this.setState({ users: res.data, loading: false });\n    });\n\n    // get general info / debug info\n    axios.get(url + '/api/tokens/info').then(res => {\n      this.setState({ info: res.data });\n    });\n\n    // get bus info\n    axios.get(url + '/api/tokens/cat/7/true').then(res => {\n      this.setState({ catBus: res.data });\n    });\n\n    // get dog feed info\n    axios.get(url + '/api/tokens/cat/4/true').then(res => {\n      this.setState({ catFeed: res.data });\n    });\n\n    // get dog walk info\n    axios.get(url + '/api/tokens/cat/5/true').then(res => {\n      this.setState({ catWalk: res.data });\n    });\n\n    // get trash info\n    axios.get(url + '/api/tokens/cat/6/true').then(res => {\n      this.setState({ catTrash: res.data });\n    });\n  };\n  alarm = () => {\n    this.fetch();\n\n    // Clock code\n    const addZero = i => {\n      if (i < 10) {\n        i = '0' + i;\n      }\n      return i;\n    };\n    const clockCode =\n      addZero(this.state.time.getHours()) +\n      '' +\n      addZero(this.state.time.getMinutes()) +\n      '' +\n      addZero(this.state.time.getSeconds());\n    this.setState({\n      time: new Date(),\n      clockCode\n    });\n\n    // Sound control\n    this.soundControl(parseInt(this.state.clockCode));\n  };\n\n  soundControl = n => {\n    let buffer = false;\n    if (15000 < Date.now() - this.state.buffer) {\n      buffer = true;\n    }\n\n    // console.log(this.state.catWalk[0].timeSent);\n\n    const color = this.state.info.colorID;\n    // 0-Alfredo 1-Jackeline 2-Jose 3-Juan\n\n    // 0 Juan - Feed ___ 1 Jose - Feed\n    const doggyPEEP = [0, 1, 0, 1];\n    const doggyID = doggyPEEP[color];\n\n    console.log(doggyID);\n\n    // 7:00PM -- game on\n    if (n >= 71207 && n <= 71230 && !this.state.alarmBells) {\n      const audio = new Audio(bellsChristmasAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ alarmBells: true });\n      this.setState({ buffer: Date.now() });\n    } else if (n === 71200) {\n      const audio = new Audio(bellsShortAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n    } else if (n === 140009) {\n      const audio = new Audio(trapClausAudio);\n      audio.play();\n      console.log('playing sound');\n    }\n\n    // 11:00AM -- school bell\n    else if (n >= 75000 && n <= 75030 && !this.state.alarmBus1) {\n      const audio = new Audio(bellAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ alarmBus1: true });\n    }\n\n    // REMINDER: bus\n    else if (this.state.catBus.length > 0 && buffer) {\n      const audio = new Audio(busAudio);\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n    }\n\n    // REMINDER: trash\n    else if (this.state.catTrash.length > 0 && buffer) {\n      let audio;\n\n      const user = this.state.catTrash[0].userID;\n\n      if (user === 1) {\n        audio = new Audio(jackelineBinAudio);\n      } else if (user === 2) {\n        audio = new Audio(alfredoBinAudio);\n      } else if (user === 3) {\n        audio = new Audio(joseBinAudio);\n      } else if (user === 4) {\n        audio = new Audio(juanBinAudio);\n      }\n\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n    }\n    // REMINDER: feed\n    else if (this.state.catFeed.length > 0 && buffer) {\n      let audio;\n\n      const user = this.state.catFeed[0].userID;\n      if (user === 3) {\n        audio = new Audio(joseFeedAudio);\n      } else if (user === 4) {\n        audio = new Audio(juanFeedAudio);\n      }\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n    }\n    // REMINDER: walk\n    else if (this.state.catWalk.length > 0 && buffer) {\n      let audio;\n\n      const user = this.state.catWalk[0].userID;\n      if (user === 3) {\n        audio = new Audio(joseWalkAudio);\n      } else if (user === 4) {\n        audio = new Audio(juanWalkAudio);\n      }\n\n      audio.play();\n      console.log('playing sound');\n      this.setState({ buffer: Date.now() });\n    }\n  };\n\n  taskMaster = n => {\n    console.log('taskmaster');\n  };\n\n  render() {\n    return <div></div>;\n  }\n}\n\nexport default Alarm;\n"]},"metadata":{},"sourceType":"module"}